#summary How to spawn starting minerals on the map via map lua
#labels Phase-Deploy,Phase-Design,maps,rocks,lua

= Introduction =
The unitname of the startressource is: bminerals<br>
After balance, testing etc. is done it should not be changed anymore.<br>
This page explains how to add start minerals to your map.

= Details =

[http://www.file-upload.net/download-2917432/frak2B.sd7.html Knorke's map] that spawns rock in some predefined positions:<br>

Basically look at *LuaRules\Gadgets\tp_ressourcespawner.lua* and scroll down to
*GameStart()*<br>
There you find this:<br>
{{{
SpawnRessourceField (3900,1900, 3, 300)
SpawnRessourceField (2250,2300, 2, 300)
SpawnRessource (1800,2500)
SpawnRessource (2500,2700)
SpawnRessource (3650,1400)
SpawnRessource (4360,1600)
SpawnRessourceField (770,3630, 2, 250)
SpawnRessourceField (5150,480, 2, 250)
}}}


*SpawnRessource (x,y)* <br>
Spawns a single bminerals at x:y coordinates

*SpawnRessourceField (x,y, n, spread)*<br>
Spawns n minerals at x:y coordinates spread over an area.
Spread = how far away from x:y rocks are spawned (randomly)

http://h-1.abload.de/img/spawnressourcefieldun06.png

Delete all the SpawnRessource function calls and add your own or just change the numbers.
The coordinates are the same as the ones you see ingame in the tooltip.

Of course if you feel experienced with Lua you can also make complex stuff and write your own functions.


==Map Options==
Maps can also have options to change all kind of things<br>
For example change the waterlevel or different weather.<br>
Here is a [http://www.file-upload.net/download-2919791/Frak2B.sd7.html map] that adds a custom "rocklayout" list parameter and spawns resources depending on the chosen preset.<br>